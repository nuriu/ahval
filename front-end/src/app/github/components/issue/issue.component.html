<div class="uk-tile uk-tile-default">

  <ul class="uk-breadcrumb">
    <li><a href="#" routerLink="/home">Ajanda</a></li>
    <li><a href="#" routerLink="/github/home">GitHub</a></li>
    <li><a href="#" [routerLink]="['/github/profile/' + repoOwner?.login]">
      <img class="uk-border-rounded" [src]="[repoOwner?.avatar_url]" width="25" height="25"> {{ repoOwner?.login }}
    </a></li>
    <li><a href="#" [routerLink]="['/github/repository/' + issue?.user.login + '/' + repoName]">{{ repoName }}</a></li>
    <li>
      <span>{{ issue?.number }}</span>
    </li>
  </ul>

  <hr class="uk-divider-icon">

  <div class="uk-section uk-section-default">
    <h2 class="uk-heading-primary">
      <span *ngIf="issue?.locked" uk-icon="icon: lock; ratio: 2"></span>
      <span *ngIf="!issue?.locked" uk-icon="icon: unlock; ratio: 2"></span>
      <span *ngIf="issue?.state == 'closed'" class="uk-badge uk-padding-small uk-margin-remove">KAPALI</span>
      <span *ngIf="issue?.state == 'open'" class="uk-badge uk-padding-small uk-margin-remove">AÇIK</span>
      <span>{{ issue?.title }}</span>
    </h2>
    <div class="uk-child-width-1-2@m uk-child-width-1-1@s uk-grid-collapse" uk-grid>

      <div class="uk-margin-remove-top uk-tile uk-tile-default uk-padding-small">
        <article class="uk-comment" *ngFor="let comment of comments">
          <header class="uk-comment-header uk-grid-medium uk-flex-middle uk-margin-remove-bottom" uk-grid>
            <div class="uk-width-auto">
              <img class="uk-comment-avatar" width="60" height="60" [src]=[comment?.user.avatar_url] [title]="[comment?.user.login]" uk-tooltip>
            </div>
            <div class="uk-width-expand">
              <h4 class="uk-comment-title uk-margin-top uk-margin-remove-bottom">
                <a class="uk-link-reset" [routerLink]="['/github/profile/' + comment?.user.login]">{{ comment?.user.login }}</a>&nbsp;
                <small>{{ comment?.created_at.toLocaleString() }}</small>
              </h4>
              <div class="uk-comment-meta uk-margin-remove-top uk-padding-remove-left" [innerHTML]="[comment?.body_html]">
              </div>
            </div>
          </header>
        </article>
      </div>

      <div class="uk-margin-remove-top uk-tile uk-tile-default uk-padding-small">
        <dl class="uk-description-list">
          <dt *ngIf="issue?.body_html">AÇIKLAMA</dt>
          <dd *ngIf="issue?.body_html" [innerHTML]="[issue?.body_html]"></dd>
          <dt *ngIf="issue?.assignees.length == 1">SORUMLU KİŞİ</dt>
          <dt *ngIf="issue?.assignees.length > 1">SORUMLU KİŞİLER</dt>
          <dd *ngFor="let assignee of issue?.assignees" class="uk-margin-small-top">
            <img class="uk-border-rounded" [src]="[assignee.avatar_url]" width="30" height="30">
            <a class="uk-link-muted" [routerLink]="['/github/profile/' + assignee.login]">
              {{ assignee.login }}
            </a>
          </dd>
          <dt>OLUŞTURULMA TARİHİ</dt>
          <dd>{{ issue?.created_at.toLocaleString() }}</dd>
          <dt>GÜNCELLENME TARİHİ</dt>
          <dd>{{ issue?.updated_at.toLocaleString() }}</dd>
        </dl>
        <hr>
        <h4>ETİKETLER</h4>
        <dl class="uk-description-list">
          <dt *ngFor="let label of issue?.labels" class="uk-margin-small">
            <h5 class="uk-badge uk-padding-small uk-margin-remove" [style.background-color]="['#' + label?.color]">
              {{ label?.name }}
            </h5>
          </dt>
        </dl>
      </div>

    </div>
  </div>
